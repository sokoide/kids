# Shooting README

## About

* これは「シューティングゲーム」の作り方を通してJava ScriptとPIXI.jsを学ぶための教材です
* 画面上の敵を全て倒すとゲーム終了となります

## Steps

### Step 04: 自機を表示しよう

* まずは`init(setup, gameloop);`を呼んでゲームを初期化しよう
  * `setup`は最初に1回だけ呼ばれます
  * `gameloop`は1秒間に60回呼ばれます
  * `gameloop`の中でキーボードの状態を取得し、ゲームの進行を行います
* `player.png`を自機として表示してみよう
  * `setup`内で自機を作成してみよう
  * 事前に`sprites.player`, `sprites.alien1`, `sprites.missile`などが用意されています
  * 何が用意されているかは`util.js`の中の`init`関数を見てみよう
  * `util.js`に用意されている`createSprite`関数にsprite.*を渡すと、新しくそのスプライトが作成されます

```js
function setup() {
    // 自機のセットアップ
    player = createSprite(sprites.player);
    player.x = 320;
    player.y = 440;
}
```

* 画面サイズは幅640、高さ480にしよう
* 自機の初期表示位置は(320,400)にしよう

<!-- ![スクリーンショット](./docs/step04.png) -->

### Step 05: 矢印キーで自機を移動しよう

* キーボード入力は`util.js`内の`keyboard`を使用して取得します
* TBD

### Step 06: 自機の移動範囲を制限して画面から出ないようにしよう

* 自機が画面から出ないように、以下の処理を追加しよう
  * 自機が画面の左端よりも左に来たら、左端に戻す
  * 自機が画面の右端よりも右に来たら、右端に戻す
* 上記を行うには、以下のように書くことができます
  * `Math.max`を使って自機のX座標を現在の値と画面の左端のうち大きい方にする
  * `Math.min`を使って自機のX座標を現在の値と画面の右端のうち小さい方にする

```js
    player.x = Math.max(player.x, player.width / 2);
    player.x = Math.min(player.x, app.view.width - sprites.player.width / 2);
```

### Step 07: ミサイルを発射しよう

* スペースキーでミサイルを1発だけ発射できるようにしよう
* ミサイルが画面にないときはまたミサイルが発射でき、ミサイルが画面内にあるときは発射できないようにしよう
* ミサイルが発射されたら`missile`の位置を自機の位置あたりに設定し、`gameloop`内で位置を更新しよう
* ミサイルは画面の外に出たら消えるようにしよう

<!-- ![スクリーンショット](./docs/step08.png) -->

### Step 08: エイリアン（敵）を配置しよう

* 配列にエイリアンを格納し、表示しよう
* ミサイルが当たったらエイリアンを消去しよう
* ミサイルにあったかどうかの判定はミサイルとエイリアンのx, y座標の差の絶対値が32以下の場合としよう
* ここまでのステップで少しゲームとして遊べるようになります。

### Step 09: エイリアンを規則的に動かそう

* ここではエイリアンを右に2ドット x 30回、左に2ドット x 30回、また右に2ドット x 30回、...というように周期的に動かしましょう

### Step 10: エイリアンもミサイルを打ってくるようにしよう

* エイリアンもミサイルを打ってくるようにしよう
  * すでに3発のミサイルがエイリアンから画面内に発射されていたらそれ以上は発射しないようにしよう
  * Step09と同様に、`alien_missiles`を巡回中にその要素を削除してはいけないので、`alien_missiles[:]`（コピー）を巡回中に`alien_missiles`の要素を削除しよう

### Step 11: エイリアンの種類を増やそう

* 青いイリアンの下に赤いエイリアンの列、その下に緑のエイリアンの列を作ろう

### Step 12: ゲームクリア/ゲームオーバー

* エイリアンを全て倒したら`Clear`と表示しよう
* エイリアンのミサイルに自機が当たったら`Game Over`と表示しよう
* ゲームクリアもしくはゲームオーバーを3秒表示したら自動的にゲームを再開しよう

### Step 13: ミサイルを画面内3発まで発射できるようにしよう

* 配列を使用してミサイルを画面内3発まで発射できるようにしよう

### Step 14: Zキーで3-wayミサイルを発射できるようにしよう

### Step 15: Xキーでレーザーを発射できるようにしよう

## さらに改良するには？

* 右上にスコアを表示しましょう
* いきなりゲームが始まるのではなく、タイトル画面をつけるにはどうしたら良いでしょう
* どうやったらエイリアンを回転できるか調べてみましょう
* どうやったらエイリアンや自機をアニメーションできるか調べてみましょう
